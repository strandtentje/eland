{
	editteam = Template(f"templates/viewteam.html") {
		members-><f"../person/view.conf@byattributevalue">(
			name = "token", remap = { value = "token" });
	};

	instances = {
		create = DataReader(f"queries/ProduceToken.sql", connection = "stortneer") {
			single->DataReader(f"queries/GetTeamByToken.sql", connection = "stortneer") {
				none-><f"../person/control.conf@updatepersonattribute">(
					name = "token", remap = { value = "token" }
				) & DataReader(f"queries/AddTeam.sql", connection = "stortneer") {
					single->editteam;
				};
				single-><f"main.conf@create">;
			};
		};

		modify = DataReader(f"queries/GetTeamByToken.sql", connection = "stortneer") {
			none->instances.create;
			single->editteam;
		};
	};
}