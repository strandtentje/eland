{
	view = {
		byid = f"view.conf@byid";
		all = f"view.conf@all";
	};

	emptyfield = Template(f"templates/field.html") {
		title-><f"texts/names.conf">(branchvariable = "name");
	};

	instances = {
		field = DataReader(f"queries/GetPersonAttribute.sql", connection = "stortneer") {
			none->Return("nothing") { default->emptyfield; };
			single->Return("something") { default->emptyfield; };
		};

		validness = DataReader(f"queries/GetPersonValid.sql", connection = "stortneer") {
			none->Return("invalidpersonregistration");
			single->Return("validpersonregistration");
		};

		overview = Dir() {
			main-><view.all>(view = "overview");
			attribute->QueryReader(
				field_name = "^\\w+$",
				field_person = "^[0-9]+$"
			) {
				successful->DataReader(f"queries/GetPersonAttribute.sql", connection = "stortneer") {
					single->BodyReader(
						field_value = "^.*$"
					) {
						form->Template(f"templates/attributeform.html");
						successful->DataWriter(f"queries/AddPersonAttribute.sql", connection = "stortneer") & Template(f"templates/saved.html");
					};
				};
			};
		};

		byid = DataReader(f"queries/GetPersonForView.sql", connection = "stortneer") {
			iterator->Return("iterator");
		};

		all = Template(f"templates/table.html") {
			header->DataReader(f"queries/GetColumnsForView.sql", connection = "stortneer") {
				iterator->Template(f"templates/tableheader.html");
			};
			rows->DataReader(f"queries/GetPersons.sql", connection = "stortneer") {
				iterator->Template(f"templates/tablerow.html") {
					cells-><view.byid> {
						iterator->Template(f"templates/tablecell.html");
					};
				};
			};
		};

		byattributevalue = DataReader(f"queries/GetAttributeValuePerson.sql", connection = "stortneer") {
			iterator->Template(f"templates/personblock.html") {
				attributes-><view.byid> {
					iterator->Template(f"templates/personattribute.html");
				};
			};
		};
	};
}